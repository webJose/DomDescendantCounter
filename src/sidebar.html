<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Permissions-Policy" content="clipboard-write=*, clipboard-read=*">
  <title>Descendant Node Table</title>
  <!-- Base styles (non-theme specific) -->
  <link rel="stylesheet" href="./public/style.css">
  <!-- Theme-specific styles -->
  <link rel="stylesheet" href="./public/style-dark.css" media="(prefers-color-scheme: dark)">
  <link rel="stylesheet" href="./public/style-light.css" media="(prefers-color-scheme: light)">
</head>
<body>
  <div class="controls">
    <img id="logoImg" alt="DOM Descendant Counter" class="logo" title="DOM Descendant Counter">
    <button type="button" id="recalculateCounts" class="btn-cyan" title="Recalculate descendant counts">
      <i class="fas fa-sync-alt" aria-hidden="true"></i>
      <span class="visually-hidden">Recalculate</span>
    </button>
    <button type="button" id="copyTableMarkdown" class="btn-green" title="Copy table as Markdown to clipboard">
      <span class="button-content">
        <i class="fas fa-clipboard" aria-hidden="true"></i>
        <span class="visually-hidden">Copy Table as Markdown</span>
      </span>
      <span class="success-message" style="display: none;">Copied!</span>
    </button>
    <button type="button" id="exportMarkdown" class="btn-blue" title="Export full report as Markdown file">
      <i class="fas fa-file-export" aria-hidden="true"></i>
      <span class="visually-hidden">Export to Markdown</span>
    </button>
    <button type="button" id="testCopyModal" class="btn-orange" title="Test the copy modal fallback">
      Test Modal
    </button>
    <button type="button" id="helpVisible" class="btn-pink ms-auto" title="What is the definition of visible?">
      <i class="fas fa-question-circle" aria-hidden="true"></i>
      <span class="visually-hidden">What is the definition of visible?</span>
    </button>
  </div>
  <h4 id="nodeTitle"></h4>
  <table id="countsTable">
    <thead>
      <tr>
        <th role="columnheader" aria-sort="none" title="Click to sort by node type">Node Type/Tag<span class="sort-indicator"><i class="fas fa-sort" aria-hidden="true"></i></span></th>
        <th id="countHeader" role="columnheader" aria-sort="none" title="Click to sort by count">Count <span id="countTotal"></span><span class="sort-indicator"><i class="fas fa-sort" aria-hidden="true"></i></span></th>
        <th id="visibleCountHeader" role="columnheader" aria-sort="none" title="Click to sort by visible count">Visible <span id="visibleTotal"></span><span class="sort-indicator"><i class="fas fa-sort" aria-hidden="true"></i></span></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div id="noData" style="display:none;">No node selected.</div>
  <script type="module" src="sidebar.ts"></script>
</body>
</html>
