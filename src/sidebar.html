<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Permissions-Policy" content="clipboard-write=*, clipboard-read=*">
  <title>Descendant Node Table</title>
  <!-- Base styles (non-theme specific) -->
  <link rel="stylesheet" href="./public/style.css">
  <!-- Theme-specific styles -->
  <link rel="stylesheet" href="./public/style-dark.css" media="(prefers-color-scheme: dark)">
  <link rel="stylesheet" href="./public/style-light.css" media="(prefers-color-scheme: light)">
</head>
<body>
  <h2>Descendant Node Counts</h2>
  <div class="controls">
    <button type="button" id="copyTableMarkdown" title="Copy table as Markdown to clipboard">Copy Table as Markdown</button>
    <button type="button" id="exportMarkdown" title="Export full report as Markdown file">Export to Markdown</button>
    <button type="button" id="testCopyModal" title="Test the copy modal fallback" style="background: #ff6600;">Test Modal</button>
  </div>
  <h4 id="nodeTitle"></h4>
  <table id="countsTable">
    <thead>
      <tr>
        <th role="columnheader" aria-sort="none" title="Click to sort by node type">Node Type/Tag<span class="sort-indicator"></span></th>
        <th id="countHeader" role="columnheader" aria-sort="none" title="Click to sort by count">Count <span id="countTotal"></span><span class="sort-indicator"></span></th>
        <th id="visibleCountHeader" role="columnheader" aria-sort="none" title="Click to sort by visible count">Visible <span id="visibleTotal"></span><span class="sort-indicator"></span></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div id="noData" style="display:none;">No node selected.</div>
  <script type="module" src="sidebar.ts"></script>
</body>
</html>
